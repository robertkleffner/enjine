(function(){var e=Object.prototype.hasOwnProperty,f=function(a,c){function b(){this.constructor=a}for(var d in c)e.call(c,d)&&(a[d]=c[d]);b.prototype=c.prototype;a.prototype=new b;a.__super__=c.prototype;return a};this.module("Enjine",function(){return this.AnimationSequence=function(){return function(a,c,b,d){this.startRow=a;this.startColumn=c;this.endRow=b;this.endColumn=d;this.singleFrame=!1;if(this.startRow===this.endRow&&this.startColumn===this.endColumn)this.singleFrame=!0}}()});this.module("Enjine",
function(){return this.AnimatedSprite=function(){function a(){a.__super__.constructor.apply(this,arguments)}f(a,this.FrameSprite);a.prototype.lastElapsed=0;a.prototype.framesPerSecond=0.05;a.prototype.currentSequence=null;a.prototype.playing=!1;a.prototype.looping=!1;a.prototype.sequences={};a.prototype.update=function(a){var b;if(!this.currentSequence.singleFrame&&this.playing&&(this.lastElapsed-=a,!(this.lastElapsed>0))){this.lastElapsed=this.framesPerSecond;this.frameX+=this.frameWidth;if(this.frameX>
this.image.width-this.frameWidth&&(this.frameX=0,this.frameY+=this.frameHeight,this.frameY>this.image.height-this.frameHeight))this.frameY=0;this.frameX>this.currentSequence.endColumn*this.frameWidth&&this.frameY===this.currentSequence.endRow*this.frameHeight?b=!0:this.frameX===0&&this.frameY>this.currentSequence.endRow*this.frameHeight&&(b=!0);if(b)return this.looping?(this.frameX=this.currentSequence.startColumn*this.frameWidth,this.frameY=this.currentSequence.startRow*this.frameHeight):this.playing=
!1}};a.prototype.playSequence=function(a,b){this.playing=!0;this.looping=b;this.currentSequence=this.sequences["seq_"+a];this.frameX=this.currentSequence.startColumn*this.frameWidth;this.frameY=this.currentSequence.startRow*this.frameHeight;return this};a.prototype.stopLooping=function(){this.looping=!1;return this};a.prototype.stopPlaying=function(){this.playing=!1;return this};a.prototype.setFrameWidth=function(a){this.frameWidth=a;return this};a.prototype.setFrameHeight=function(a){this.frameHeight=
a;return this};a.prototype.setColumnCount=function(a){this.frameWidth=this.image.width/a;return this};a.prototype.setRowCount=function(a){this.frameHeight=this.image.height/a;return this};a.prototype.addSequence=function(a,b){this.sequences["seq_"+a]=b;return this};a.prototype.addNewSequence=function(a,b,d,e,f){this.sequences["seq_"+a]=new Enjine.AnimationSequence(b,d,e,f);return this};a.prototype.deleteSequence=function(a){delete this.sequences["seq_"+a];return this};a.prototype.clearSequences=function(){delete this.sequences;
this.sequences={};return this};return a}.call(this)})}).call(this);