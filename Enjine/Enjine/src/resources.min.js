(function(){this.module("Enjine",function(){return{images:{},sounds:{},destroy:function(){delete this.images;delete this.sounds;return this},addImage:function(a,b){var c;c=new Image;this.images[a]=c;c.src=b;return this},addImages:function(a){var b,c,d,e;for(d=0,e=a.length;d<e;d++)b=a[d],c=new Image,this.images[b.name]=c,c.src=b.src;return this},clearImages:function(){delete this.images;this.images={};return this},removeImage:function(a){delete this.images[a];return this},addSound:function(a,b,c){var d;
this.sounds[a]=[];this.sounds[a].index=0;c||(c=3);for(d=0;d<c;)this.sounds[a][d]=new Audio(b),d++;return this},clearSounds:function(){delete this.sounds;this.sounds={};return this},removeSound:function(a){delete this.sounds[a];return this},pauseChannel:function(a,b){this.sounds[a][b].paused||this.sounds[a][b].pause();return this},pauseSound:function(a){var b,c,d;d=this.sounds[a];for(b=0,c=d.length;b<c;b++)a=d[b],a.paused||a.pause();return this},resetChannel:function(a,b){this.sounds[a][b].currentTime=
0;this.stopLoop(a,b);return this},resetSound:function(a){var b,c,d,e;e=this.sounds[a];for(c=0,d=e.length;c<d;c++)b=e[c],b.currentTime=0,this.stopLoop(a,c);return this},stopLoop:function(a,b){return this.sounds[a][b].removeEventListener("ended",this.loopCallback,!1)},loopCallback:function(){this.currentTime=-1;this.play();return this},playSound:function(a,b){if(this.sounds[a].index>=this.sounds[a].length)this.sounds[a].index=0;b&&this.sounds[a][this.sounds[a].index].addEventListener("ended",this.loopCallback,
!1);this.sounds[a][this.sounds[a].index++].play();return this.sounds[a].index}}})}).call(this);